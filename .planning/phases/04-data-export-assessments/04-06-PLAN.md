---
phase: 04-data-export-assessments
plan: 06
type: execute
wave: 3
depends_on: ["04-02", "04-03", "04-04", "04-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Assessment deletion works end-to-end"
    - "Form submissions export with date filtering works"
    - "Assessment CSV and PDF exports work"
    - "GDPR user data export works"
    - "All Hebrew text displays correctly"
---

<objective>
Verify all Phase 4 functionality through manual testing.

Purpose: Ensure all export and deletion features work correctly before marking phase complete.
Output: Verified functionality, any bug fixes applied.
</objective>

<execution_context>
@/Users/itayostraich/.claude/get-shit-done/workflows/execute-plan.md
@/Users/itayostraich/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/04-data-export-assessments/04-CONTEXT.md
@.planning/phases/04-data-export-assessments/04-01-SUMMARY.md
@.planning/phases/04-data-export-assessments/04-02-SUMMARY.md
@.planning/phases/04-data-export-assessments/04-03-SUMMARY.md
@.planning/phases/04-data-export-assessments/04-04-SUMMARY.md
@.planning/phases/04-data-export-assessments/04-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Start dev server and verify build</name>
  <files></files>
  <action>
Ensure the application builds and runs without errors:

```bash
npm run build
npm run dev
```

Check for any TypeScript or build errors. Fix any issues before proceeding to manual verification.
  </action>
  <verify>Build completes without errors. Dev server starts.</verify>
  <done>Application builds and dev server runs.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
All Phase 4 export and deletion functionality:
1. Assessment deletion with soft delete
2. Form submissions export with date filtering
3. Assessment CSV export
4. Assessment PDF export with branding
5. GDPR user data export
  </what-built>
  <how-to-verify>
**Prerequisite:** Dev server running at http://localhost:3000

**1. Test Assessment Deletion (ASMT-04):**
- Go to /admin/assessments
- Click on a user with assessments
- Find the delete button (trash icon) on an assessment card
- Click delete, confirm in dialog
- Verify: Assessment disappears, toast shows success
- Refresh page: Assessment still gone

**2. Test Form Submissions Export (EXP-01):**
- Go to /admin/submissions
- Select "לפני אימון" tab
- Set a date range (or leave empty for all)
- Click "ייצוא ל-CSV"
- Open downloaded CSV in Excel
- Verify: Hebrew text displays correctly (not garbled)
- Verify: All expected columns present
- Repeat for other tabs (post-workout, nutrition)

**3. Test Assessment CSV Export (EXP-02):**
- Go to /admin/assessments/{userId}
- Click "ייצוא CSV" button
- Open downloaded file in Excel
- Verify: Hebrew column headers display correctly
- Verify: All assessment data present

**4. Test Assessment PDF Export (EXP-03):**
- On same assessment page, click "ייצוא PDF"
- Open downloaded PDF
- Verify: Hebrew text is readable (RTL layout)
- Verify: Branding visible (title, colors)
- Verify: All sections present (sprint, jump, etc.)

**5. Test GDPR Export (EXP-04):**
- Go to /admin/users or user profile page
- Find GDPR export button
- Click "ייצוא נתונים (GDPR)"
- Open downloaded JSON file
- Verify: Contains profile, forms (3 types), assessments, video_progress
- Verify: Does NOT contain activity_logs, payments, goals

**Report any issues found for immediate fixing.**
  </how-to-verify>
  <resume-signal>Type "all verified" or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
All features tested and working:
- [ ] Assessment deletion shows confirmation, updates list
- [ ] Form exports download with correct Hebrew
- [ ] Assessment CSV has all fields
- [ ] Assessment PDF renders with branding
- [ ] GDPR export has correct data scope
</verification>

<success_criteria>
- All 5 requirement areas tested and verified
- Hebrew displays correctly in all exports
- No console errors during operations
- User can confirm all features work as expected
</success_criteria>

<output>
After completion, create `.planning/phases/04-data-export-assessments/04-06-SUMMARY.md`
</output>
